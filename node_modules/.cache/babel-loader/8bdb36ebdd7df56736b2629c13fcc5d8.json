{"remainingRequest":"/Users/anthony/Desktop/data_collect_web/node_modules/babel-loader/lib/index.js!/Users/anthony/Desktop/data_collect_web/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/anthony/Desktop/data_collect_web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anthony/Desktop/data_collect_web/src/components/FileUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/anthony/Desktop/data_collect_web/src/components/FileUpload.vue","mtime":1622358157000},{"path":"/Users/anthony/Desktop/data_collect_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anthony/Desktop/data_collect_web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/anthony/Desktop/data_collect_web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anthony/Desktop/data_collect_web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hbnRob255L0Rlc2t0b3AvZGF0YV9jb2xsZWN0X3dlYi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhZGRGaWxlVmlzaWJsZTogZmFsc2UsCiAgICAgIC8vIOS4iuS8oOaWh+S7tuaXtumAieaLqeeahOaWh+S7tmxpc3QKICAgICAgZmlsZTogW10sCiAgICAgIC8vIOmhtemdouaYvuekuueahOaXtuWAmeeahGZpbGXkv6Hmga8KICAgICAgZmlsZUluZm86IFt7CiAgICAgICAgZmlsZU5hbWU6ICfmlofku7blkI3np7AnLAogICAgICAgIGZpbGVVcmw6ICdVcmwnCiAgICAgIH0sIHsKICAgICAgICBmaWxlTmFtZTogJ+aWh+S7tuWQjeensCcsCiAgICAgICAgZmlsZVVybDogJyBVcmwnCiAgICAgIH1dCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RmlsZUxpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldEZpbGVMaXN0OiBmdW5jdGlvbiBnZXRGaWxlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF95aWVsZCRfdGhpcyQkaHR0cCRnZSwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kaHR0cC5nZXQoJ2xpc3RGaWxlcycpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMkJGh0dHAkZ2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzJCRodHRwJGdlLmRhdGE7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzLmNvZGUgIT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF90aGlzLiRtZXNzYWdlLmVycm9yKCfmlofku7bojrflj5blpLHotKUnKSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIF90aGlzLmZpbGVJbmZvID0gcmVzLmVudGl0eTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZEZpbGU6IGZ1bmN0aW9uIGFkZEZpbGUoKSB7CiAgICAgIHRoaXMuYWRkRmlsZVZpc2libGUgPSB0cnVlOwogICAgfSwKICAgIHJlc2V0Rm9ybTogZnVuY3Rpb24gcmVzZXRGb3JtKCkge30sCiAgICAvLyDmlofku7bkuIrkvKDnmoTmlrnms5UKICAgIC8vIOaWh+S7tuS4i+i9veaMiemSrgogICAgZG93bmxvYWQ6IGZ1bmN0aW9uIGRvd25sb2FkKEZpbGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgX3lpZWxkJF90aGlzMiQkaHR0cCRnLCByZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRodHRwLmdldCgiZG93bmxvYWQ/aWQ9Ii5jb25jYXQoRmlsZS5pZCkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfeWllbGQkX3RoaXMyJCRodHRwJGcgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHJlcyA9IF95aWVsZCRfdGhpczIkJGh0dHAkZy5kYXRhOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgICAgICBpZiAoIShyZXMuY29kZSAhPT0gMjAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoJ+aWh+S7tuS4i+i9veWksei0pScpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aWh+S7tuS4i+i9veaIkOWKnycpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmlofku7bliKDpmaTmjInpkq4KICAgIGRlbGV0ZUZpbGU6IGZ1bmN0aW9uIGRlbGV0ZUZpbGUoRmlsZSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBwYXJhbXMsIF95aWVsZCRfdGhpczMkJGh0dHAkcCwgcmVzOwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpOwogICAgICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgnaWQnLCBGaWxlLmlkKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuJGh0dHAucG9zdCgnZGVsZXRlRmlsZScsIHBhcmFtcyk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF95aWVsZCRfdGhpczMkJGh0dHAkcCA9IF9jb250ZXh0My5zZW50OwogICAgICAgICAgICAgICAgcmVzID0gX3lpZWxkJF90aGlzMyQkaHR0cCRwLmRhdGE7CgogICAgICAgICAgICAgICAgaWYgKCEocmVzLmNvZGUgIT09IDIwMCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIiwgX3RoaXMzLiRtZXNzYWdlLmVycm9yKCfliKDpmaTlpLHotKUnKSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF90aGlzMy5nZXRGaWxlTGlzdCgpOwoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCBfdGhpczMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yig6Zmk5oiQ5YqfJykpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["FileUpload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,cAAA,EAAA,KADA;AAEA;AACA,MAAA,IAAA,EAAA,EAHA;AAIA;AACA,MAAA,QAAA,EAAA,CAAA;AACA,QAAA,QAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA;AAFA,OAAA,EAGA;AACA,QAAA,QAAA,EAAA,MADA;AAEA,QAAA,OAAA,EAAA;AAFA,OAHA;AALA,KAAA;AAaA,GAfA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,SAAA,WAAA;AACA,GAlBA;AAmBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,KAAA,CAAA,KAAA,CAAA,GAAA,CAAA,WAAA,CADA;;AAAA;AAAA;AACA,gBAAA,GADA,yBACA,IADA;;AAAA,sBAEA,GAAA,CAAA,IAAA,KAAA,GAFA;AAAA;AAAA;AAAA;;AAAA,iDAGA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,QAAA,CAHA;;AAAA;AAKA,gBAAA,KAAA,CAAA,QAAA,GAAA,GAAA,CAAA,MAAA;;AALA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA,KAPA;AAQA,IAAA,OARA,qBAQA;AACA,WAAA,cAAA,GAAA,IAAA;AACA,KAVA;AAWA,IAAA,SAXA,uBAWA,CAEA,CAbA;AAcA;AACA;AACA,IAAA,QAhBA,oBAgBA,IAhBA,EAgBA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,MAAA,CAAA,KAAA,CAAA,GAAA,uBAAA,IAAA,CAAA,EAAA,EADA;;AAAA;AAAA;AACA,gBAAA,GADA,yBACA,IADA;AAEA,gBAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AAFA,sBAGA,GAAA,CAAA,IAAA,KAAA,GAHA;AAAA;AAAA;AAAA;;AAAA,kDAIA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,QAAA,CAJA;;AAAA;AAMA,gBAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,QAAA;;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA,KAvBA;AAwBA;AACA,IAAA,UAzBA,sBAyBA,IAzBA,EAyBA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AACA,gBAAA,MADA,GACA,IAAA,eAAA,EADA;AAEA,gBAAA,MAAA,CAAA,MAAA,CAAA,IAAA,EAAA,IAAA,CAAA,EAAA;AAFA;AAAA,uBAGA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,YAAA,EAAA,MAAA,CAHA;;AAAA;AAAA;AAGA,gBAAA,GAHA,yBAGA,IAHA;;AAAA,sBAIA,GAAA,CAAA,IAAA,KAAA,GAJA;AAAA;AAAA;AAAA;;AAAA,kDAKA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,MAAA,CALA;;AAAA;AAOA,gBAAA,MAAA,CAAA,WAAA;;AAPA,kDAQA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,MAAA,CARA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAlCA;AAnBA,CAAA","sourcesContent":["<template>\n<div>\n  <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n    <el-breadcrumb-item :to=\"{ path: '/welcome' }\">首页</el-breadcrumb-item>\n    <el-breadcrumb-item>采集设备管理</el-breadcrumb-item>\n    <el-breadcrumb-item>文件上传下载</el-breadcrumb-item>\n  </el-breadcrumb>\n  <el-card>\n    <el-upload action=\"http://localhost:8080/uploadFile\">\n      <el-button type=\"primary\">上传文件</el-button>\n    </el-upload>\n    <el-table :data=\"fileInfo\" stripe border style=\"width: 100%\">\n      <el-table-column type=\"index\"></el-table-column>\n      <el-table-column prop=\"fileName\" label=\"文件名称\"> </el-table-column>\n      <el-table-column label=\"文件链接\">\n        <template slot-scope=\"scope\">\n          <el-button icon = \"el-icon-download\" @click = 'download(scope.row)'></el-button>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"操作\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"danger\" icon=\"el-icon-delete\" @click = \"deleteFile(scope.row)\"></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </el-card>\n\n</div>\n</template>\n\n<script>\nexport default {\n  data () {\n    return {\n      addFileVisible: false,\n      // 上传文件时选择的文件list\n      file: [],\n      // 页面显示的时候的file信息\n      fileInfo: [{\n        fileName: '文件名称',\n        fileUrl: 'Url'\n      }, {\n        fileName: '文件名称',\n        fileUrl: ' Url'\n      }]\n    }\n  },\n  created () {\n    this.getFileList()\n  },\n  methods: {\n    async getFileList () {\n      const { data: res } = await this.$http.get('listFiles')\n      if (res.code !== 200) {\n        return this.$message.error('文件获取失败')\n      }\n      this.fileInfo = res.entity\n    },\n    addFile () {\n      this.addFileVisible = true\n    },\n    resetForm () {\n\n    },\n    // 文件上传的方法\n    // 文件下载按钮\n    async download (File) {\n      const { data: res } = await this.$http.get(`download?id=${File.id}`)\n      console.log(res)\n      if (res.code !== 200) {\n        return this.$message.error('文件下载失败')\n      }\n      this.$message.success('文件下载成功')\n    },\n    // 文件删除按钮\n    async deleteFile (File) {\n      const params = new URLSearchParams()\n      params.append('id', File.id)\n      const { data: res } = await this.$http.post('deleteFile', params)\n      if (res.code !== 200) {\n        return this.$message.error('删除失败')\n      }\n      this.getFileList()\n      return this.$message.success('删除成功')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.el-breadcrumb{\n  margin-bottom:15px;\n  font-size: 12px;\n}\n.el-card{\n  box-shadow: 0 1px 1px rgba(0,0,0,0.25)!important;\n}\n</style>\n"],"sourceRoot":"src/components"}]}